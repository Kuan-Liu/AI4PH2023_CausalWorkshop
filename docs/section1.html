<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kuan Liu">
<meta name="dcterms.date" content="2023-07-17">

<title>Tutorial on Causal Inference Using Machine Learning Methods - 1. The implementation of standard causal inference aproaches in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./section2.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Tutorial on Causal Inference Using Machine Learning Methods</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Kuan-Liu/AI4PH2023_CausalWorkshop" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./section1.html">1. The implementation of standard causal inference aproaches in R</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorial on Causal Inference Using Machine Learning Methods</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">1. The implementation of standard causal inference aproaches in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Using machine learning techniques for causal analysis</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#summary-statistics-of-baseline-variables-by-treatment-status" id="toc-summary-statistics-of-baseline-variables-by-treatment-status" class="nav-link active" data-scroll-target="#summary-statistics-of-baseline-variables-by-treatment-status">0. Summary statistics of baseline variables by treatment status</a></li>
  <li><a href="#naive-regression-analysis" id="toc-naive-regression-analysis" class="nav-link" data-scroll-target="#naive-regression-analysis">0.1 Naive regression analysis</a></li>
  <li><a href="#propensity-score-analysis" id="toc-propensity-score-analysis" class="nav-link" data-scroll-target="#propensity-score-analysis">1 Propensity score analysis</a>
  <ul class="collapse">
  <li><a href="#propensity-score-matching" id="toc-propensity-score-matching" class="nav-link" data-scroll-target="#propensity-score-matching">1.1 Propensity score matching</a></li>
  <li><a href="#propensity-score-weighting" id="toc-propensity-score-weighting" class="nav-link" data-scroll-target="#propensity-score-weighting">1.2 Propensity score weighting</a></li>
  </ul></li>
  <li><a href="#general-guildelines-on-implementing-psa" id="toc-general-guildelines-on-implementing-psa" class="nav-link" data-scroll-target="#general-guildelines-on-implementing-psa">1.3 General guildelines on implementing PSA</a>
  <ul class="collapse">
  <li><a href="#checklist-for-the-design-and-analysis-of-studies-using-ps-methods" id="toc-checklist-for-the-design-and-analysis-of-studies-using-ps-methods" class="nav-link" data-scroll-target="#checklist-for-the-design-and-analysis-of-studies-using-ps-methods">Checklist for the design and analysis of studies using PS methods</a></li>
  <li><a href="#checklist-for-reporting-of-studies-using-ps-methods" id="toc-checklist-for-reporting-of-studies-using-ps-methods" class="nav-link" data-scroll-target="#checklist-for-reporting-of-studies-using-ps-methods">Checklist for reporting of studies using PS methods</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">1. The implementation of standard causal inference aproaches in R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kuan Liu </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2023-07-17</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<!-- {{< include index.qmd >}} -->
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Outlines
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Descriptive analysis</li>
<li>Propensity score matching</li>
<li>Propensity score weighting</li>
<li>General guideline on PSA analysis</li>
</ul>
</div>
</div>
<section id="summary-statistics-of-baseline-variables-by-treatment-status" class="level2">
<h2 class="anchored" data-anchor-id="summary-statistics-of-baseline-variables-by-treatment-status">0. Summary statistics of baseline variables by treatment status</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tableone)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>data2<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">"data/data2"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>covariates <span class="ot">&lt;-</span> <span class="fu">select</span>(data2, <span class="sc">-</span><span class="fu">c</span>(id, A, Y))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>baselines <span class="ot">&lt;-</span> <span class="fu">colnames</span>(covariates)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>baselines</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "cat1"     "ca"       "cardiohx" "chfhx"    "dementhx" "psychhx" 
 [7] "chrpulhx" "renalhx"  "liverhx"  "gibledhx" "malighx"  "immunhx" 
[13] "transhx"  "amihx"    "age"      "sex"      "edu"      "aps1"    
[19] "scoma1"   "meanbp1"  "wblc1"    "hrt1"     "resp1"    "temp1"   
[25] "pafi1"    "alb1"     "hema1"    "bili1"    "crea1"    "sod1"    
[31] "pot1"     "paco21"   "ph1"      "wtkilo1"  "dnr1"     "ninsclas"
[37] "resp"     "card"     "neuro"    "gastr"    "renal"    "meta"    
[43] "hema"     "seps"     "trauma"   "ortho"    "race"     "income"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tab0 <span class="ot">&lt;-</span> <span class="fu">CreateTableOne</span>(<span class="at">vars =</span> baselines,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> data2, </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">strata =</span> <span class="st">"A"</span>, </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">test =</span> <span class="cn">FALSE</span>, <span class="co">#mute P-value calculation;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">smd =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">addOverall =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tab0, <span class="at">smd =</span> <span class="cn">TRUE</span>, <span class="at">showAllLevels =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        Stratified by A
                         Overall         0               1               SMD   
  n                        5735            3551            2184                
  cat1 (%)                                                                0.583
     ARF                   2490 (43.4)     1581 (44.5)      909 (41.6)         
     CHF                    456 ( 8.0)      247 ( 7.0)      209 ( 9.6)         
     Cirrhosis              224 ( 3.9)      175 ( 4.9)       49 ( 2.2)         
     Colon Cancer             7 ( 0.1)        6 ( 0.2)        1 ( 0.0)         
     Coma                   436 ( 7.6)      341 ( 9.6)       95 ( 4.3)         
     COPD                   457 ( 8.0)      399 (11.2)       58 ( 2.7)         
     Lung Cancer             39 ( 0.7)       34 ( 1.0)        5 ( 0.2)         
     MOSF w/Malignancy      399 ( 7.0)      241 ( 6.8)      158 ( 7.2)         
     MOSF w/Sepsis         1227 (21.4)      527 (14.8)      700 (32.1)         
  ca (%)                                                                  0.107
     Metastatic             384 ( 6.7)      261 ( 7.4)      123 ( 5.6)         
     No                    4379 (76.4)     2652 (74.7)     1727 (79.1)         
     Yes                    972 (16.9)      638 (18.0)      334 (15.3)         
  cardiohx (mean (SD))     0.18 (0.38)     0.16 (0.37)     0.20 (0.40)    0.116
  chfhx (mean (SD))        0.18 (0.38)     0.17 (0.37)     0.19 (0.40)    0.069
  dementhx (mean (SD))     0.10 (0.30)     0.12 (0.32)     0.07 (0.25)    0.163
  psychhx (mean (SD))      0.07 (0.25)     0.08 (0.27)     0.05 (0.21)    0.143
  chrpulhx (mean (SD))     0.19 (0.39)     0.22 (0.41)     0.14 (0.35)    0.192
  renalhx (mean (SD))      0.04 (0.21)     0.04 (0.20)     0.05 (0.21)    0.032
  liverhx (mean (SD))      0.07 (0.26)     0.07 (0.26)     0.06 (0.24)    0.049
  gibledhx (mean (SD))     0.03 (0.18)     0.04 (0.19)     0.02 (0.16)    0.070
  malighx (mean (SD))      0.23 (0.42)     0.25 (0.43)     0.20 (0.40)    0.101
  immunhx (mean (SD))      0.27 (0.44)     0.26 (0.44)     0.29 (0.45)    0.080
  transhx (mean (SD))      0.12 (0.32)     0.09 (0.29)     0.15 (0.36)    0.170
  amihx (mean (SD))        0.03 (0.18)     0.03 (0.17)     0.04 (0.20)    0.074
  age (mean (SD))         61.38 (16.68)   61.76 (17.29)   60.75 (15.63)   0.061
  sex = Male (%)           3192 (55.7)     1914 (53.9)     1278 (58.5)    0.093
  edu (mean (SD))         11.68 (3.15)    11.57 (3.13)    11.86 (3.16)    0.091
  aps1 (mean (SD))        54.67 (19.96)   50.93 (18.81)   60.74 (20.27)   0.501
  scoma1 (mean (SD))      21.00 (30.27)   22.25 (31.37)   18.97 (28.26)   0.110
  meanbp1 (mean (SD))     78.52 (38.05)   84.87 (38.87)   68.20 (34.24)   0.455
  wblc1 (mean (SD))       15.65 (11.87)   15.26 (11.41)   16.27 (12.55)   0.084
  hrt1 (mean (SD))       115.18 (41.24)  112.87 (40.94)  118.93 (41.47)   0.147
  resp1 (mean (SD))       28.09 (14.08)   28.98 (13.95)   26.65 (14.17)   0.165
  temp1 (mean (SD))       37.62 (1.77)    37.63 (1.74)    37.59 (1.83)    0.021
  pafi1 (mean (SD))      222.27 (114.95) 240.63 (116.66) 192.43 (105.54)  0.433
  alb1 (mean (SD))         3.09 (0.78)     3.16 (0.67)     2.98 (0.93)    0.230
  hema1 (mean (SD))       31.87 (8.36)    32.70 (8.79)    30.51 (7.42)    0.269
  bili1 (mean (SD))        2.27 (4.80)     2.00 (4.43)     2.71 (5.33)    0.145
  crea1 (mean (SD))        2.13 (2.05)     1.92 (2.03)     2.47 (2.05)    0.270
  sod1 (mean (SD))       136.77 (7.66)   137.04 (7.68)   136.33 (7.60)    0.092
  pot1 (mean (SD))         4.07 (1.03)     4.08 (1.04)     4.05 (1.01)    0.027
  paco21 (mean (SD))      38.75 (13.18)   39.95 (14.24)   36.79 (10.97)   0.249
  ph1 (mean (SD))          7.39 (0.11)     7.39 (0.11)     7.38 (0.11)    0.120
  wtkilo1 (mean (SD))     67.83 (29.06)   65.04 (29.50)   72.36 (27.73)   0.256
  dnr1 = Yes (%)            654 (11.4)      499 (14.1)      155 ( 7.1)    0.228
  ninsclas (%)                                                            0.194
     Medicaid               647 (11.3)      454 (12.8)      193 ( 8.8)         
     Medicare              1458 (25.4)      947 (26.7)      511 (23.4)         
     Medicare &amp; Medicaid    374 ( 6.5)      251 ( 7.1)      123 ( 5.6)         
     No insurance           322 ( 5.6)      186 ( 5.2)      136 ( 6.2)         
     Private               1698 (29.6)      967 (27.2)      731 (33.5)         
     Private &amp; Medicare    1236 (21.6)      746 (21.0)      490 (22.4)         
  resp = Yes (%)           2113 (36.8)     1481 (41.7)      632 (28.9)    0.270
  card = Yes (%)           1931 (33.7)     1007 (28.4)      924 (42.3)    0.295
  neuro = Yes (%)           693 (12.1)      575 (16.2)      118 ( 5.4)    0.353
  gastr = Yes (%)           942 (16.4)      522 (14.7)      420 (19.2)    0.121
  renal = Yes (%)           295 ( 5.1)      147 ( 4.1)      148 ( 6.8)    0.116
  meta = Yes (%)            265 ( 4.6)      172 ( 4.8)       93 ( 4.3)    0.028
  hema = Yes (%)            354 ( 6.2)      239 ( 6.7)      115 ( 5.3)    0.062
  seps = Yes (%)           1031 (18.0)      515 (14.5)      516 (23.6)    0.234
  trauma = Yes (%)           52 ( 0.9)       18 ( 0.5)       34 ( 1.6)    0.104
  ortho = Yes (%)             7 ( 0.1)        3 ( 0.1)        4 ( 0.2)    0.027
  race (%)                                                                0.036
     black                  920 (16.0)      585 (16.5)      335 (15.3)         
     other                  355 ( 6.2)      213 ( 6.0)      142 ( 6.5)         
     white                 4460 (77.8)     2753 (77.5)     1707 (78.2)         
  income (%)                                                              0.142
     $11-$25k              1165 (20.3)      713 (20.1)      452 (20.7)         
     $25-$50k               893 (15.6)      500 (14.1)      393 (18.0)         
     &gt; $50k                 451 ( 7.9)      257 ( 7.2)      194 ( 8.9)         
     Under $11k            3226 (56.3)     2081 (58.6)     1145 (52.4)         </code></pre>
</div>
</div>
</section>
<section id="naive-regression-analysis" class="level2">
<h2 class="anchored" data-anchor-id="naive-regression-analysis">0.1 Naive regression analysis</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjPlot)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># adjust the treatment variable &amp; baseline variables;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>fit0.Y.formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="fu">paste</span>(<span class="st">"Y ~ A +"</span>, </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">paste</span>(baselines, </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">collapse =</span> <span class="st">"+"</span>)))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>fit0 <span class="ot">&lt;-</span> <span class="fu">glm</span>(fit0.Y.formula, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">data =</span> data2)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(fit0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="3" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Y</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">CI</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">p</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">(Intercept)</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.84</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.00&nbsp;–&nbsp;681.93</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.841</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">A</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.42</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.23&nbsp;–&nbsp;1.64</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cat1 [CHF]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.62</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.43&nbsp;–&nbsp;0.89</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.010</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cat1 [Cirrhosis]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.28</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.82&nbsp;–&nbsp;1.98</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.271</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cat1 [Colon Cancer]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.08</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.00&nbsp;–&nbsp;0.78</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.048</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cat1 [Coma]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">3.90</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.92&nbsp;–&nbsp;5.25</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cat1 [COPD]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.59</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.42&nbsp;–&nbsp;0.83</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.002</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cat1 [Lung Cancer]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.04</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.94&nbsp;–&nbsp;4.31</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.064</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cat1 [MOSF w/Malignancy]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.67</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.25&nbsp;–&nbsp;2.24</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cat1 [MOSF w/Sepsis]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.02</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.85&nbsp;–&nbsp;1.22</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.819</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ca [No]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.40</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.18&nbsp;–&nbsp;0.87</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.021</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ca [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.86</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.64&nbsp;–&nbsp;1.14</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.289</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">cardiohx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.02</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.84&nbsp;–&nbsp;1.23</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.857</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">chfhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.06</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.86&nbsp;–&nbsp;1.29</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.586</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">dementhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.11</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.90&nbsp;–&nbsp;1.37</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.330</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">psychhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.79</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.61&nbsp;–&nbsp;1.03</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.092</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">chrpulhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.07</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.88&nbsp;–&nbsp;1.29</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.523</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">renalhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.28</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.89&nbsp;–&nbsp;1.82</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.180</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">liverhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.34</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.93&nbsp;–&nbsp;1.93</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.110</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">gibledhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.22</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.80&nbsp;–&nbsp;1.87</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.357</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">malighx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.61</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.30&nbsp;–&nbsp;1.23</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.165</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">immunhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.08</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.94&nbsp;–&nbsp;1.25</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.290</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">transhx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.17</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.96&nbsp;–&nbsp;1.43</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.112</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">amihx</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.74</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.52&nbsp;–&nbsp;1.05</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.099</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">age</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.01</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.01&nbsp;–&nbsp;1.02</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">sex [Male]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.10</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.96&nbsp;–&nbsp;1.25</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.167</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">edu</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.98&nbsp;–&nbsp;1.02</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.854</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">aps1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.02</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.01&nbsp;–&nbsp;1.02</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">scoma1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.01</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.01&nbsp;–&nbsp;1.01</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">meanbp1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00&nbsp;–&nbsp;1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.120</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">wblc1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.99&nbsp;–&nbsp;1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.448</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">hrt1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00&nbsp;–&nbsp;1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.042</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">resp1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.99&nbsp;–&nbsp;1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.064</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">temp1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.97</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.93&nbsp;–&nbsp;1.01</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.107</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">pafi1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00&nbsp;–&nbsp;1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.004</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">alb1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.96</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.87&nbsp;–&nbsp;1.05</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.395</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">hema1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.99&nbsp;–&nbsp;1.01</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.915</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">bili1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.06</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.05&nbsp;–&nbsp;1.08</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">crea1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.97</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.93&nbsp;–&nbsp;1.02</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.207</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">sod1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.99</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.98&nbsp;–&nbsp;1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.071</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">pot1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.94&nbsp;–&nbsp;1.07</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.964</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">paco21</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.99&nbsp;–&nbsp;1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.303</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ph1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.90</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.43&nbsp;–&nbsp;1.88</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.770</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">wtkilo1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00&nbsp;–&nbsp;1.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.444</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">dnr1 [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">3.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.47&nbsp;–&nbsp;3.65</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ninsclas [Medicare]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.42</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.09&nbsp;–&nbsp;1.85</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.010</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ninsclas [Medicare &amp;<br>
Medicaid]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.20</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.87&nbsp;–&nbsp;1.67</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.270</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ninsclas [No insurance]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.66</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.19&nbsp;–&nbsp;2.31</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.003</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ninsclas [Private]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.28</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.00&nbsp;–&nbsp;1.64</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.053</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ninsclas [Private &amp;<br>
Medicare]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.26</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.96&nbsp;–&nbsp;1.65</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.103</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">resp [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.19</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.01&nbsp;–&nbsp;1.40</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.037</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">card [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.98</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.83&nbsp;–&nbsp;1.15</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.780</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">neuro [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.33</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.05&nbsp;–&nbsp;1.69</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.017</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">gastr [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.13</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.92&nbsp;–&nbsp;1.39</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.233</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">renal [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.96</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.72&nbsp;–&nbsp;1.29</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.800</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">meta [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.78</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.57&nbsp;–&nbsp;1.06</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.116</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">hema [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.91</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.46&nbsp;–&nbsp;2.49</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">seps [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.98</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.82&nbsp;–&nbsp;1.18</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.862</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">trauma [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.94</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.45&nbsp;–&nbsp;1.85</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.866</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ortho [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.45</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.02&nbsp;–&nbsp;2.87</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.470</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">race [other]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.08</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.80&nbsp;–&nbsp;1.46</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.610</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">race [white]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.04</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.86&nbsp;–&nbsp;1.25</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.712</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">income [$25-$50k]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.83</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.66&nbsp;–&nbsp;1.03</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.089</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">income [&gt; $50k]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.82</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.62&nbsp;–&nbsp;1.08</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.166</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">income [Under $11k]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.17</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.99&nbsp;–&nbsp;1.39</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.071</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">5735</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.205</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="propensity-score-analysis" class="level2">
<h2 class="anchored" data-anchor-id="propensity-score-analysis">1 Propensity score analysis</h2>
<ul>
<li>This is a review from the morning session. See Brice’s lecture notes for details.</li>
</ul>
<section id="propensity-score-matching" class="level3">
<h3 class="anchored" data-anchor-id="propensity-score-matching">1.1 Propensity score matching</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MatchIt)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) <span class="co">#this approach requires setting seed values to reproduce the same results;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>ps.formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="fu">paste</span>(<span class="st">"A~"</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">paste</span>(baselines, <span class="at">collapse =</span> <span class="st">"+"</span>)))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>PS.fit <span class="ot">&lt;-</span> <span class="fu">glm</span>(ps.formula,<span class="at">family=</span><span class="st">"binomial"</span>, <span class="at">data=</span>data2)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#adding calculated PS values back to the dataset;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>data2<span class="sc">$</span>PS <span class="ot">&lt;-</span> <span class="fu">predict</span>(PS.fit, <span class="at">newdata =</span> data2, <span class="at">type=</span><span class="st">"response"</span>) </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># we can select variables caliper to ensure large/representable matched pairs are selected;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co"># caliper can take values between 0.05 (a tight match) to 0.2 (a loose match);</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>match.obj <span class="ot">&lt;-</span> <span class="fu">matchit</span>(ps.formula, <span class="at">data =</span>data2,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">distance =</span> data2<span class="sc">$</span>PS,</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">"nearest"</span>, <span class="co">#nearest neighbour;</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>                     <span class="at">replace=</span><span class="cn">FALSE</span>,</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ratio =</span> <span class="dv">1</span>, <span class="co">#1:1 match;</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>                     <span class="at">caliper =</span> .<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Checking PS distributions and balance</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cobalt)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bal.plot</span>(match.obj,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">var.name=</span><span class="st">"distance"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">which=</span><span class="st">"both"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="st">"density"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="section1_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">love.plot</span>(match.obj, </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">binary =</span> <span class="st">"std"</span>, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">grid =</span> <span class="cn">TRUE</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">thresholds =</span> <span class="fu">c</span>(<span class="at">m =</span> .<span class="dv">1</span>),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"blue"</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="section1_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Outcome regression post-matching</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geepack)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>Match <span class="ot">&lt;-</span> <span class="fu">match.data</span>(match.obj)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">geeglm</span>(Y <span class="sc">~</span> A, <span class="at">family=</span><span class="fu">binomial</span>(<span class="st">"log"</span>), </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">data=</span>Match,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">weights=</span>weights, </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">std.err =</span> <span class="st">'san.se'</span>, </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">id=</span>subclass, </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">corstr=</span><span class="st">"independence"</span>) </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">tab_model</span>(fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table style="border-collapse:collapse; border:none;">
<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">Y</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">Risk Ratios</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.30</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.28&nbsp;–&nbsp;0.33</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">A</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.23</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.12&nbsp;–&nbsp;1.36</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>subclass</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">1635</td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">3270</td>
</tr>

</tbody></table>

</div>
</div>
</section>
<section id="propensity-score-weighting" class="level3">
<h3 class="anchored" data-anchor-id="propensity-score-weighting">1.2 Propensity score weighting</h3>
<p><strong>Obtaining weights using WeightIt package</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(WeightIt)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>IPTW <span class="ot">&lt;-</span> <span class="fu">weightit</span>(ps.formula,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> data2,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">"glm"</span>, <span class="co">#using the default logistic regression;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">stabilize =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>IPTW</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A weightit object
 - method: "glm" (propensity score weighting with GLM)
 - number of obs.: 5735
 - sampling weights: none
 - treatment: 2-category
 - estimand: ATE
 - covariates: cat1, ca, cardiohx, chfhx, dementhx, psychhx, chrpulhx, renalhx, liverhx, gibledhx, malighx, immunhx, transhx, amihx, age, sex, edu, aps1, scoma1, meanbp1, wblc1, hrt1, resp1, temp1, pafi1, alb1, hema1, bili1, crea1, sod1, pot1, paco21, ph1, wtkilo1, dnr1, ninsclas, resp, card, neuro, gastr, renal, meta, hema, seps, trauma, ortho, race, income</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(IPTW)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 Summary of weights

- Weight ranges:

           Min                                   Max
treated 0.3893 |---------------------------| 19.6399
control 0.6206 |--------------|              11.4347

- Units with the 5 most extreme weights by group:
                                              
            795   4885    1825    3828    4890
 treated 7.5334 7.9065  8.0164  8.5311 19.6399
           2174   4007     505    3216    2986
 control 8.8226  9.686 10.0262 10.1506 11.4347

- Weight statistics:

        Coef of Var   MAD Entropy # Zeros
treated       0.959 0.522   0.258       0
control       0.622 0.339   0.117       0

- Effective Sample Sizes:

           Control Treated
Unweighted 3551.   2184.  
Weighted   2561.57 1137.96</code></pre>
</div>
</div>
<p><strong>Checking PS distributions and balance</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bal.plot</span>(IPTW,</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">which=</span><span class="st">"both"</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="st">"density"</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="section1_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bal.tab</span>(IPTW, <span class="at">un=</span><span class="cn">TRUE</span>, <span class="at">thresholds =</span> <span class="fu">c</span>(<span class="at">m=</span><span class="fl">0.1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Balance Measures
                                 Type Diff.Un Diff.Adj    M.Threshold
prop.score                   Distance  1.1831   0.0353 Balanced, &lt;0.1
cat1_ARF                       Binary -0.0290   0.0099 Balanced, &lt;0.1
cat1_CHF                       Binary  0.0261   0.0013 Balanced, &lt;0.1
cat1_Cirrhosis                 Binary -0.0268  -0.0025 Balanced, &lt;0.1
cat1_Colon Cancer              Binary -0.0012  -0.0004 Balanced, &lt;0.1
cat1_Coma                      Binary -0.0525   0.0007 Balanced, &lt;0.1
cat1_COPD                      Binary -0.0858  -0.0135 Balanced, &lt;0.1
cat1_Lung Cancer               Binary -0.0073  -0.0033 Balanced, &lt;0.1
cat1_MOSF w/Malignancy         Binary  0.0045   0.0023 Balanced, &lt;0.1
cat1_MOSF w/Sepsis             Binary  0.1721   0.0054 Balanced, &lt;0.1
ca_Metastatic                  Binary -0.0172  -0.0021 Balanced, &lt;0.1
ca_No                          Binary  0.0439   0.0005 Balanced, &lt;0.1
ca_Yes                         Binary -0.0267   0.0017 Balanced, &lt;0.1
cardiohx                       Binary  0.0445   0.0048 Balanced, &lt;0.1
chfhx                          Binary  0.0268   0.0000 Balanced, &lt;0.1
dementhx                       Binary -0.0472  -0.0127 Balanced, &lt;0.1
psychhx                        Binary -0.0348  -0.0033 Balanced, &lt;0.1
chrpulhx                       Binary -0.0737  -0.0066 Balanced, &lt;0.1
renalhx                        Binary  0.0066   0.0023 Balanced, &lt;0.1
liverhx                        Binary -0.0124   0.0005 Balanced, &lt;0.1
gibledhx                       Binary -0.0122  -0.0026 Balanced, &lt;0.1
malighx                        Binary -0.0423  -0.0004 Balanced, &lt;0.1
immunhx                        Binary  0.0358  -0.0019 Balanced, &lt;0.1
transhx                        Binary  0.0554   0.0053 Balanced, &lt;0.1
amihx                          Binary  0.0139   0.0011 Balanced, &lt;0.1
age                           Contin. -0.0614  -0.0015 Balanced, &lt;0.1
sex_Male                       Binary  0.0462   0.0142 Balanced, &lt;0.1
edu                           Contin.  0.0914   0.0094 Balanced, &lt;0.1
aps1                          Contin.  0.5014   0.0240 Balanced, &lt;0.1
scoma1                        Contin. -0.1098  -0.0116 Balanced, &lt;0.1
meanbp1                       Contin. -0.4551  -0.0030 Balanced, &lt;0.1
wblc1                         Contin.  0.0836   0.0498 Balanced, &lt;0.1
hrt1                          Contin.  0.1469   0.0305 Balanced, &lt;0.1
resp1                         Contin. -0.1655   0.0120 Balanced, &lt;0.1
temp1                         Contin. -0.0214   0.0030 Balanced, &lt;0.1
pafi1                         Contin. -0.4332  -0.0017 Balanced, &lt;0.1
alb1                          Contin. -0.2299  -0.0189 Balanced, &lt;0.1
hema1                         Contin. -0.2693  -0.0321 Balanced, &lt;0.1
bili1                         Contin.  0.1446  -0.0080 Balanced, &lt;0.1
crea1                         Contin.  0.2696   0.0198 Balanced, &lt;0.1
sod1                          Contin. -0.0922  -0.0124 Balanced, &lt;0.1
pot1                          Contin. -0.0271  -0.0259 Balanced, &lt;0.1
paco21                        Contin. -0.2486  -0.0276 Balanced, &lt;0.1
ph1                           Contin. -0.1198   0.0167 Balanced, &lt;0.1
wtkilo1                       Contin.  0.2557   0.0202 Balanced, &lt;0.1
dnr1_Yes                       Binary -0.0696  -0.0105 Balanced, &lt;0.1
ninsclas_Medicaid              Binary -0.0395   0.0046 Balanced, &lt;0.1
ninsclas_Medicare              Binary -0.0327  -0.0136 Balanced, &lt;0.1
ninsclas_Medicare &amp; Medicaid   Binary -0.0144   0.0009 Balanced, &lt;0.1
ninsclas_No insurance          Binary  0.0099   0.0002 Balanced, &lt;0.1
ninsclas_Private               Binary  0.0624   0.0041 Balanced, &lt;0.1
ninsclas_Private &amp; Medicare    Binary  0.0143   0.0037 Balanced, &lt;0.1
resp_Yes                       Binary -0.1277  -0.0096 Balanced, &lt;0.1
card_Yes                       Binary  0.1395   0.0084 Balanced, &lt;0.1
neuro_Yes                      Binary -0.1079  -0.0077 Balanced, &lt;0.1
gastr_Yes                      Binary  0.0453   0.0002 Balanced, &lt;0.1
renal_Yes                      Binary  0.0264   0.0049 Balanced, &lt;0.1
meta_Yes                       Binary -0.0059   0.0010 Balanced, &lt;0.1
hema_Yes                       Binary -0.0146   0.0013 Balanced, &lt;0.1
seps_Yes                       Binary  0.0912   0.0054 Balanced, &lt;0.1
trauma_Yes                     Binary  0.0105   0.0011 Balanced, &lt;0.1
ortho_Yes                      Binary  0.0010   0.0002 Balanced, &lt;0.1
race_black                     Binary -0.0114   0.0057 Balanced, &lt;0.1
race_other                     Binary  0.0050  -0.0026 Balanced, &lt;0.1
race_white                     Binary  0.0063  -0.0032 Balanced, &lt;0.1
income_$11-$25k                Binary  0.0062  -0.0081 Balanced, &lt;0.1
income_$25-$50k                Binary  0.0391   0.0051 Balanced, &lt;0.1
income_&gt; $50k                  Binary  0.0165   0.0013 Balanced, &lt;0.1
income_Under $11k              Binary -0.0618   0.0017 Balanced, &lt;0.1

Balance tally for mean differences
                   count
Balanced, &lt;0.1        69
Not Balanced, &gt;0.1     0

Variable with the greatest mean difference
 Variable Diff.Adj    M.Threshold
    wblc1   0.0498 Balanced, &lt;0.1

Effective sample sizes
           Control Treated
Unadjusted 3551.   2184.  
Adjusted   2561.57 1137.96</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">love.plot</span>(IPTW, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">binary =</span> <span class="st">"std"</span>, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">grid =</span> <span class="cn">TRUE</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">thresholds =</span> <span class="fu">c</span>(<span class="at">m =</span> .<span class="dv">1</span>),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"blue"</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="section1_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Outcome modelling</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">glm</span>(Y <span class="sc">~</span> A, </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">weights =</span> IPTW<span class="sc">$</span>weights,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> data2)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co">#trim weights;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Trimming at 99th percentile</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>IPTW.trim <span class="ot">&lt;-</span> <span class="fu">trim</span>(IPTW, <span class="at">at =</span> .<span class="dv">99</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>fit2.trim <span class="ot">&lt;-</span> <span class="fu">glm</span>(Y <span class="sc">~</span> A, </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">weights =</span> IPTW.trim<span class="sc">$</span>weights,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> data2)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(fit2, fit2.trim)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="3" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Y</td>
<td colspan="3" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Y</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">CI</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">p</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">CI</td>
<td style="text-align: center;">p</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">(Intercept)</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.45</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.42&nbsp;–&nbsp;0.48</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.45</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.42&nbsp;–&nbsp;0.48</td>
<td style="text-align: center;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">A</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.30</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.16&nbsp;–&nbsp;1.45</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.34</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.19&nbsp;–&nbsp;1.50</td>
<td style="text-align: center;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">5735</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">5735</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.005</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.005</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="general-guildelines-on-implementing-psa" class="level2">
<h2 class="anchored" data-anchor-id="general-guildelines-on-implementing-psa">1.3 General guildelines on implementing PSA</h2>
<p>Here providing a list a references that covers guildelines are PSA analysis and its reporting</p>
<ol type="1">
<li>PS matching <span class="citation" data-cites="austin2007propensity">(<a href="#ref-austin2007propensity" role="doc-biblioref">Austin 2007</a>)</span></li>
<li>PSA analysis for cancer research <span class="citation" data-cites="yao2017reporting">(<a href="#ref-yao2017reporting" role="doc-biblioref">Yao et al. 2017</a>)</span></li>
<li>PSA analysis for neurology <span class="citation" data-cites="austin2021applying">(<a href="#ref-austin2021applying" role="doc-biblioref">Austin et al. 2021</a>)</span></li>
<li>PSA analysis for multiple sclerosis <span class="citation" data-cites="karim2022use">(<a href="#ref-karim2022use" role="doc-biblioref">Karim et al. 2022</a>)</span></li>
</ol>
<section id="checklist-for-the-design-and-analysis-of-studies-using-ps-methods" class="level3">
<h3 class="anchored" data-anchor-id="checklist-for-the-design-and-analysis-of-studies-using-ps-methods">Checklist for the design and analysis of studies using PS methods</h3>
<p><span class="citation" data-cites="austin2021applying">(<a href="#ref-austin2021applying" role="doc-biblioref">Austin et al. 2021</a>)</span></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="image/F1.large.jpg" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
</section>
<section id="checklist-for-reporting-of-studies-using-ps-methods" class="level3">
<h3 class="anchored" data-anchor-id="checklist-for-reporting-of-studies-using-ps-methods">Checklist for reporting of studies using PS methods</h3>
<p><span class="citation" data-cites="austin2021applying">(<a href="#ref-austin2021applying" role="doc-biblioref">Austin et al. 2021</a>)</span></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="image/F2.large.jpg" class="img-fluid" style="width:100.0%"></p>
</div>
</div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-austin2007propensity" class="csl-entry" role="listitem">
Austin, Peter C. 2007. <span>“Propensity-Score Matching in the Cardiovascular Surgery Literature from 2004 to 2006: A Systematic Review and Suggestions for Improvement.”</span> <em>The Journal of Thoracic and Cardiovascular Surgery</em> 134 (5): 1128–35.
</div>
<div id="ref-austin2021applying" class="csl-entry" role="listitem">
Austin, Peter C, Amy Ying Xin Yu, Manav V Vyas, and Moira K Kapral. 2021. <span>“Applying Propensity Score Methods in Clinical Research in Neurology.”</span> <em>Neurology</em> 97 (18): 856–63.
</div>
<div id="ref-karim2022use" class="csl-entry" role="listitem">
Karim, Mohammad Ehsanul, Fabio Pellegrini, Robert W Platt, Gabrielle Simoneau, Julie Rouette, and Carl de Moor. 2022. <span>“The Use and Quality of Reporting of Propensity Score Methods in Multiple Sclerosis Literature: A Review.”</span> <em>Multiple Sclerosis Journal</em> 28 (9): 1317–23.
</div>
<div id="ref-yao2017reporting" class="csl-entry" role="listitem">
Yao, Xiaoxin I, Xiaofei Wang, Paul J Speicher, E Shelley Hwang, Perry Cheng, David H Harpole, Mark F Berry, Deborah Schrag, and Herbert H Pang. 2017. <span>“Reporting and Guidelines in Propensity Score Analysis: A Systematic Review of Cancer and Cancer Surgical Studies.”</span> <em>JNCI: Journal of the National Cancer Institute</em> 109 (8): djw323.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Tutorial on Causal Inference Using Machine Learning Methods</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./section2.html" class="pagination-link">
        <span class="nav-page-text">2. Using machine learning techniques for causal analysis</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left"><a href="https://www.kuan-liu.com">Kuan Liu</a>, University of Toronto @ 2023</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>